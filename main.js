(()=>{"use strict";var e={373:(e,t,s)=>{s.r(t)},325:(e,t,s)=>{s.r(t)},792:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChiefSlider=void 0;const s="slider_disable-transition",i="slider__control_hide",n="slider__item_active",a="active";t.ChiefSlider=class{constructor(e,t){const s="string"==typeof e?document.querySelector(e):e;this._$root=s,this._$wrapper=s.querySelector(".slider__wrapper"),this._$items=s.querySelector(".slider__items"),this._$itemList=s.querySelectorAll(".slider__item"),this._$controlPrev=s.querySelector('.slider__control[data-slide="prev"]'),this._$controlNext=s.querySelector('.slider__control[data-slide="next"]'),this._$indicatorList=s.querySelectorAll(".slider__indicators>li"),this._minOrder=0,this._maxOrder=0,this._$itemWithMinOrder=null,this._$itemWithMaxOrder=null,this._minTranslate=0,this._maxTranslate=0,this._direction="next",this._balancingItemsFlag=!1,this._activeItems=[],this._transform=0,this._hasSwipeState=!1,this.__swipeStartPos=0,this._transform=0,this._intervalId=null,this._config={loop:!0,autoplay:!1,interval:5e3,refresh:!0,swipe:!0},this._config=Object.assign(this._config,t);const n=this._$itemList,a=n[0].offsetWidth,r=this._$wrapper.offsetWidth,o=Math.round(r/a);this._widthItem=a,this._widthWrapper=r,this._itemsInVisibleArea=o,this._transformStep=100/o;for(let e=0,t=n.length;e<t;e++)n[e].dataset.index=e,n[e].dataset.order=e,n[e].dataset.translate=0,e<o&&this._activeItems.push(e);if(this._config.loop){const e=n.length-1,t=100*-n.length;n[e].dataset.order=-1,n[e].dataset.translate=100*-n.length,n[e].style.transform=`translateX(${t}%)`,this.__refreshExtremeValues()}else this._$controlPrev&&this._$controlPrev.classList.add(i);this._setActiveClass(),this._addEventListener(),this._updateIndicators(),this._autoplay()}_addEventListener(){const e=this._$root,t=this._$items,s=this._config;function i(e){this._autoplay("stop");const t=0===e.type.search("touch")?e.touches[0]:e;this._swipeStartPos=t.clientX,this._hasSwipeState=!0}function n(e){if(!this._hasSwipeState)return;const t=0===e.type.search("touch")?e.changedTouches[0]:e,s=this._swipeStartPos-t.clientX;s>50?(this._direction="next",this._move()):s<-50&&(this._direction="prev",this._move()),this._hasSwipeState=!1,this._config.loop&&this._autoplay()}e.addEventListener("click",function(e){const t=e.target;if(this._autoplay("stop"),t.classList.contains("slider__control"))e.preventDefault(),this._direction=t.dataset.slide,this._move();else if(t.dataset.slideTo){const e=parseInt(t.dataset.slideTo,10);this._moveTo(e)}this._config.loop&&this._autoplay()}.bind(this)),e.addEventListener("mouseenter",function(){this._autoplay("stop")}.bind(this)),e.addEventListener("mouseleave",function(){this._autoplay()}.bind(this)),s.refresh&&window.addEventListener("resize",function(){window.requestAnimationFrame(this._refresh.bind(this))}.bind(this)),s.loop&&(t.addEventListener("transition-start",function(){this._balancingItemsFlag||(this._balancingItemsFlag=!0,window.requestAnimationFrame(this._balancingItems.bind(this)))}.bind(this)),t.addEventListener("transitionend",function(){this._balancingItemsFlag=!1}.bind(this))),s.swipe&&(e.addEventListener("touchstart",i.bind(this)),e.addEventListener("mousedown",i.bind(this)),document.addEventListener("touchend",n.bind(this)),document.addEventListener("mouseup",n.bind(this))),e.addEventListener("dragstart",function(e){e.preventDefault()}.bind(this)),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?this._autoplay("stop"):"visible"===document.visibilityState&&this._config.loop&&this._autoplay()}.bind(this))}__refreshExtremeValues(){const e=this._$itemList;this._minOrder=+e[0].dataset.order,this._maxOrder=this._minOrder,this._$itemByMinOrder=e[0],this._$itemByMaxOrder=e[0],this._minTranslate=+e[0].dataset.translate,this._maxTranslate=this._minTranslate;for(let t=0,s=e.length;t<s;t++){const s=e[t],i=+s.dataset.order;i<this._minOrder?(this._minOrder=i,this._$itemByMinOrder=s,this._minTranslate=+s.dataset.translate):i>this._maxOrder&&(this._maxOrder=i,this._$itemByMaxOrder=s,this._maxTranslate=+s.dataset.translate)}}_balancingItems(){if(!this._balancingItemsFlag)return;const e=this._$wrapper.getBoundingClientRect(),t=e.width/this._itemsInVisibleArea/2,s=this._$itemList.length;let i,n;if("next"===this._direction){const a=e.left,r=this._$itemByMinOrder;i=this._minTranslate,n=r.getBoundingClientRect(),n.right<a-t&&(r.dataset.order=this._minOrder+s,i+=100*s,r.dataset.translate=i,r.style.transform=`translateX(${i}%)`,this.__refreshExtremeValues())}else{const a=e.right,r=this._$itemByMaxOrder;i=this._maxTranslate,n=r.getBoundingClientRect(),n.left>a+t&&(r.dataset.order=this._maxOrder-s,i-=100*s,r.dataset.translate=i,r.style.transform=`translateX(${i}%)`,this.__refreshExtremeValues())}requestAnimationFrame(this._balancingItems.bind(this))}_setActiveClass(){const e=this._activeItems,t=this._$itemList;for(let s=0,i=t.length;s<i;s++){const i=t[s],a=+i.dataset.index;e.indexOf(a)>-1?i.classList.add(n):i.classList.remove(n)}}_updateIndicators(){const e=this._$indicatorList,t=this._$itemList;if(e.length)for(let s=0,i=t.length;s<i;s++)t[s].classList.contains(n)?e[s].classList.add(a):e[s].classList.remove(a)}_move(){const e="next"===this._direction?-this._transformStep:this._transformStep;let t=this._transform+e;if(!this._config.loop){const e=this._transformStep*(this._$itemList.length-this._itemsInVisibleArea);if(t=Math.round(10*t)/10,t<-e||t>0)return;this._$controlPrev.classList.remove(i),this._$controlNext.classList.remove(i),t===-e?this._$controlNext.classList.add(i):0===t&&this._$controlPrev.classList.add(i)}const s=[];let n,a,r,o=0;if("next"===this._direction)for(o=0,n=this._activeItems.length;o<n;o++)a=this._activeItems[o],a+=1,r=a,r>this._$itemList.length-1&&(r-=this._$itemList.length),s.push(r);else for(o=0,n=this._activeItems.length;o<n;o++)a=this._activeItems[o],a-=1,r=a,r<0&&(r+=this._$itemList.length),s.push(r);this._activeItems=s,this._setActiveClass(),this._updateIndicators(),this._transform=t,this._$items.style.transform=`translateX(${t}%)`,this._$items.dispatchEvent(new CustomEvent("transition-start",{bubbles:!0}))}_moveToNext(){this._direction="next",this._move()}_moveToPrev(){this._direction="prev",this._move()}_moveTo(e){const t=this._$indicatorList;let s,i,n=null,r=null;for(s=0,i=t.length;s<i;s++){const i=t[s];if(i.classList.contains(a)){const t=+i.dataset.slideTo;(null===r||Math.abs(e-t)<r)&&(n=t,r=Math.abs(e-n))}}if(r=e-n,0!==r)for(this._direction=r>0?"next":"prev",s=1;s<=Math.abs(r);s++)this._move()}_autoplay(e){if(this._config.autoplay)return"stop"===e?(clearInterval(this._intervalId),void(this._intervalId=null)):void(null===this._intervalId&&(this._intervalId=setInterval((()=>{this._direction="next",this._move()}),this._config.interval)))}_refresh(){const e=this._$itemList,t=e[0].offsetWidth,n=this._$wrapper.offsetWidth,a=Math.round(n/t);if(a===this._itemsInVisibleArea)return;this._autoplay("stop"),this._$items.classList.add(s),this._$items.style.transform="translateX(0)",this._widthItem=t,this._widthWrapper=n,this._itemsInVisibleArea=a,this._transform=0,this._transformStep=100/a,this._balancingItemsFlag=!1,this._activeItems=[];for(let t=0,s=e.length;t<s;t++){const s=e[t],i=t;s.dataset.index=i,s.dataset.order=i,s.dataset.translate=0,s.style.transform="translateX(0)",i<a&&this._activeItems.push(i)}if(this._setActiveClass(),this._updateIndicators(),window.requestAnimationFrame((()=>{this._$items.classList.remove(s)})),!this._config.loop)return void(this._$controlPrev&&this._$controlPrev.classList.add(i));const r=e.length-1,o=100*-e.length;e[r].dataset.order=-1,e[r].dataset.translate=100*-e.length,e[r].style.transform="translateX(".concat(o,"%)"),this.__refreshExtremeValues(),this._autoplay()}next(){this._moveToNext()}prev(){this._moveToPrev()}moveTo(e){this._moveTo(e)}refresh(){this._refresh()}}},667:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.slider=void 0;const i=s(792);t.slider=function(){document.addEventListener("DOMContentLoaded",(function(){new i.ChiefSlider(".slider",{loop:!0,autoplay:!0,interval:5e3})}))}},53:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function r(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateItem=void 0,s(325),s(373),(0,s(667).slider)();const n=document.querySelector(".menu"),a=document.querySelector(".menu__close"),r=document.querySelector(".header__burger"),o=document.querySelector("body");r.addEventListener("click",(()=>{n.style.display="block",o.style.overflowY="hidden"})),a.addEventListener("click",(()=>{n.style.display="none",o.style.overflowY="auto"}));const l=document.querySelector(".popular__row");t.GenerateItem=function(e,t,s,i,n,a,r){this.category=e,this.name=t,this.discount=s,this.price=i,this.count=n,this.image=a,this.id=r},i(void 0,void 0,void 0,(function*(){const e=yield fetch("http://ec2-3-91-9-40.compute-1.amazonaws.com:31337/products/"),t=yield e.json();0===localStorage.length&&localStorage.setItem("items",JSON.stringify(t));const s=(e,t,s,i,n,a,r)=>{const c=document.createElement("li"),d=document.createElement("div"),h=document.createElement("img"),m=document.createElement("a"),u=document.createElement("span"),p=document.createElement("button"),_=document.createElement("div"),f=document.createElement("p"),y=document.createElement("p"),g=document.createElement("i"),v=document.createElement("div"),S=document.createElement("div"),L=document.createElement("i"),b=document.createElement("span"),x=document.createElement("i");n>0&&(p.style.display="block"),d.dataset.id=r;const E=JSON.parse(localStorage.getItem("items"));h.src=E[r-1].image_url;const I=document.createTextNode("Быстрый просмотр"),T=document.createTextNode(s+"%"),N=document.createTextNode(i+" BYN"),w=document.createTextNode(t+""),$=document.createTextNode(Math.ceil(i/(100-s)*1e4)/100+" BYN");m.append(I),u.append(T),f.append(N),y.append($),v.append(w),c.className="popular__item",d.className="popular__card",h.className="popular__img",m.className="popular__fast-check",u.className="popular__discount",p.className="popular__add",g.className="fa-solid fa-plus",_.className="popular__price-row",f.className="popular__price-now",y.className="popular__price-later",v.className="popular__name",L.className="fa-solid fa-minus minus--hidden",x.className="fa-solid fa-plus plus--hidden",S.className="popular__hidden-block",c.append(d),d.append(h),d.append(m),d.append(u),p.append(g),d.append(p),c.append(_),_.append(f),_.append(y),l.append(c),c.append(v),n>0?(d.append(S),S.style.display="block",b.innerText=n,S.style.display="flex"):d.append(S),S.append(L),S.append(b),S.append(x),p.addEventListener("click",(()=>{p.style.display="none",S.style.display="flex"})),p.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("items")),s=e.target.closest(".popular__card"),i=t.find((e=>+e.id==+s.dataset.id));i.count++,b.innerText=i.count,localStorage.setItem("items",JSON.stringify(t))})),x.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("items")),s=e.target.closest(".popular__card"),i=t.find((e=>+e.id==+s.dataset.id));i.count++,b.innerText=i.count,localStorage.setItem("items",JSON.stringify(t))})),L.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("items")),s=e.target.closest(".popular__card"),i=t.find((e=>+e.id==+s.dataset.id));i.count<1||(i.count--,b.innerText=i.count,localStorage.setItem("items",JSON.stringify(t))),0===i.count&&(s.querySelector(".popular__hidden-block"),S.style.display="none",p.style.display="block")})),m.addEventListener("click",(()=>{const n=document.createElement("div");n.dataset.id=r;const a=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),m=document.createElement("h2"),_=document.createTextNode(t),f=document.createElement("h3"),y=document.createTextNode("Стоимость: "+i+" BYN"),v=document.createElement("h3"),L=document.createTextNode("Категория: "+e),x=document.createElement("h3"),E=document.createTextNode("Вы экономите: "+s+"%"),I=document.createElement("button"),T=document.createTextNode("Добавить в корзину"),N=document.createElement("p");let w=document.createTextNode("");b.innerText>0&&(w="В корзине "+b.innerText+" шт."),n.className="fastCheckBlock",l.className="fastCheckBlockImg",c.className="fastCheckBlockDescription",a.className="fastCheckClose fa-regular fa-circle-xmark fa-2x",v.className="fastCheckBlockDescriptionCategory",I.className="fastCheckBlockDescriptionBtn title3",N.className="fastCheckBlockDescriptionBtnCount",n.append(a),l.append(h),n.append(l),m.append(_),c.append(m),f.append(y),c.append(f),v.append(L),c.append(v),x.append(E),c.append(x),I.append(T),N.append(w),I.append(N),c.append(I),n.append(c),o.append(n),I.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("items")),s=e.target.closest(".fastCheckBlock"),i=t.find((e=>+e.id==+s.dataset.id));i.count++,I.innerText="В корзине "+i.count+" шт.",localStorage.setItem("items",JSON.stringify(t))})),a.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("items")),s=e.target.closest(".fastCheckBlock"),i=t.find((e=>+e.id==+s.dataset.id));i.count>0?(n.remove(),d.append(h),p.append(g),d.append(p),d.append(S),d.append(u),p.style.display="none",S.style.display="flex",b.innerText=i.count):(n.remove(),d.append(h),p.append(g),d.append(p),d.append(S),d.append(u))}))}))},i=document.querySelector(".fa-magnifying-glass"),n=document.querySelector(".header__search"),a=document.querySelector(".popular__row"),r=document.querySelector(".popular__title");return document.querySelector(".board"),i.addEventListener("click",(()=>{if(n.value){const e=JSON.parse(localStorage.getItem("items"));a.innerHTML="";for(let t=0;t<e.length;t++)e[t].title.toLowerCase().includes(n.value.toLowerCase())&&(s(e[t].category,e[t].title,e[t].discount,e[t].price,e[t].count,e[t].url,e[t].id),l.style.gridTemplateColumns="");l.classList.add("grid"),a.innerHTML?(r.innerHTML="Результат поиска:",l.style.gridTemplateColumns=""):r.innerHTML="Ничего не найдено"}})),n.addEventListener("keydown",(e=>{if(n.value&&13===e.keyCode){const e=JSON.parse(localStorage.getItem("items"));a.innerHTML="";for(let t=0;t<e.length;t++)e[t].title.toLowerCase().includes(n.value.toLowerCase())&&s(e[t].category,e[t].title,e[t].discount,e[t].price,e[t].count,e[t].url,e[t].id);l.classList.add("grid"),a.innerHTML?(r.innerHTML="Результат поиска:",l.style.gridTemplateColumns=""):r.innerHTML="Ничего не найдено"}})),(()=>{const e=JSON.parse(localStorage.getItem("items")),t=document.location.href.split("/"),i=t[t.length-1];if("books.html"===i){const t=e.filter((e=>"books"===e.category));for(let e=0;e<t.length;e++){let i=t[e];s(i.category,i.title,i.discount,i.price,i.count,i.url,i.id)}}else if("shoes.html"===i){const t=e.filter((e=>"Shoes"===e.category));for(let e=0;e<t.length;e++){let i=t[e];s(i.category,i.title,i.discount,i.price,i.count,i.url,i.id)}}else if("sport.html"===i){const t=e.filter((e=>"sport"===e.category));for(let e=0;e<t.length;e++){let i=t[e];s(i.category,i.title,i.discount,i.price,i.count,i.url,i.id)}}else if("toys.html"===i){const t=e.filter((e=>"toys"===e.category));for(let e=0;e<t.length;e++){let i=t[e];s(i.category,i.title,i.discount,i.price,i.count,i.url,i.id)}}else if("accessories.html"===i){const t=e.filter((e=>"accessories"===e.category));for(let e=0;e<t.length;e++){let i=t[e];s(i.category,i.title,i.discount,i.price,i.count,i.url,i.id)}}else if("basket.html"===i){l.style.gridTemplateColumns="1fr";const t=e.filter((e=>e.count>0));if(t.length>0){document.querySelector(".popular__total").style.display="flex",document.querySelector(".popular__title").style.display="block";let e=0;for(let i=0;i<t.length;i++){let n=t[i];s(n.category,n.title,n.discount,n.price,n.count,n.url,n.id),e+=t[i].price*t[i].count}document.querySelector(".popular__total-price").innerText=Math.ceil(100*e)/100+" BYN";const i=document.querySelectorAll(".popular__item");for(const e of i)e.style.border="2px solid #cdcdcd",e.style.borderRadius="16px",e.style.display="grid",e.style.gridTemplateColumns="repeat(3, 1fr)",e.style.alignItems="center",e.style.justifyItems="center";const n=document.querySelectorAll(".popular__price-row");for(const e of n)e.style.justifyContent="normal";const a=document.querySelectorAll(".popular__price-now");for(const e of a)e.style.marginRight="30px";const r=document.querySelectorAll(".popular__card");for(const e of r)e.style.width="100%",e.style.hover="none";const o=document.querySelectorAll(".popular__img");for(const e of o)e.style.border="none"}else document.querySelector(".popular__hidden").style.display="block"}else!function(){for(let t=0;t<6;t++){const t=e[Math.ceil(100*Math.random())];console.log(t.category),s(t.category,t.title,t.discount,t.price,t.count,t.url,t.id)}}()})()}));const c=document.querySelector(".header"),d=document.querySelector(".header__logo"),h=document.querySelector(".header__logo-small"),m=document.querySelector(".header__search-box"),u=document.querySelector(".header__search-close");document.querySelector(".fa-magnifying-glass").addEventListener("click",(()=>{m.classList.add("header__search-box-visible"),u.classList.add("visible"),d.classList.add("hidden"),h.classList.add("hidden"),c.classList.add("header-search-visible")})),u.addEventListener("click",(()=>{m.classList.remove("header__search-box-visible"),u.classList.remove("visible"),d.classList.remove("hidden"),h.classList.remove("hidden"),c.classList.remove("header-search-visible")}))}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(53)})();